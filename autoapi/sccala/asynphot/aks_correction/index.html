

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sccala.asynphot.aks_correction &mdash; Sccala 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="sccala.asynphot.calibration" href="../calibration/index.html" />
    <link rel="prev" title="sccala.asynphot" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Sccala
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../project_setup.html">Project Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fileformats.html">File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules.html">Sccala Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../models.html">SCM Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">sccala</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../aks_corr/index.html">sccala.aks_corr</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">sccala.asynphot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collect_scm_data/index.html">sccala.collect_scm_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../deblind/index.html">sccala.deblind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../gen_testdata/index.html">sccala.gen_testdata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../interplib/index.html">sccala.interplib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../libio/index.html">sccala.libio</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../photometry_interpolation/index.html">sccala.photometry_interpolation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../project_init/index.html">sccala.project_init</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sccala_bootstrap/index.html">sccala.sccala_bootstrap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sccala_scm/index.html">sccala.sccala_scm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../scmlib/index.html">sccala.scmlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../speclib/index.html">sccala.speclib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../spectral_line_fit/index.html">sccala.spectral_line_fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../synthetic_photometry/index.html">sccala.synthetic_photometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utillib/index.html">sccala.utillib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../velocity_interpolation/index.html">sccala.velocity_interpolation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#attributes">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#package-contents">Package Contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Sccala</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">sccala</a></li>
          <li class="breadcrumb-item"><a href="../index.html">sccala.asynphot</a></li>
      <li class="breadcrumb-item active">sccala.asynphot.aks_correction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/sccala/asynphot/aks_correction/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-sccala.asynphot.aks_correction">
<span id="sccala-asynphot-aks-correction"></span><h1>sccala.asynphot.aks_correction<a class="headerlink" href="#module-sccala.asynphot.aks_correction" title="Link to this heading"></a></h1>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.get_sn_info" title="sccala.asynphot.aks_correction.get_sn_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_sn_info</span></code></a>(snname[, modelpath])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.get_sn_phot" title="sccala.asynphot.aks_correction.get_sn_phot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_sn_phot</span></code></a>(photometry_file)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.get_sn_spectra" title="sccala.asynphot.aks_correction.get_sn_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_sn_spectra</span></code></a>(snname[, delimiter, modelpath, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.mag_interp" title="sccala.asynphot.aks_correction.mag_interp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mag_interp</span></code></a>(mjd, mag, emag, spec_epoch[, band, visualize])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.f19_unred" title="sccala.asynphot.aks_correction.f19_unred"><code class="xref py py-obj docutils literal notranslate"><span class="pre">f19_unred</span></code></a>(wave, flux, av, **kwargs)</p></td>
<td><p>Unred spectra with Fitzenpatrick 2019</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.warp_spectrum" title="sccala.asynphot.aks_correction.warp_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">warp_spectrum</span></code></a>(offset, lambda_effs, wav, flux, filters)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sccala.asynphot.aks_correction.aks_correction" title="sccala.asynphot.aks_correction.aks_correction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aks_correction</span></code></a>(snname, photometry_file, filter_in, ...)</p></td>
<td><p>Do a full AKS correction on input photometry. Corrects any number of</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.get_sn_info">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">get_sn_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Models'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.get_sn_info" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.get_sn_phot">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">get_sn_phot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">photometry_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.get_sn_phot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.get_sn_spectra">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">get_sn_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_spectra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rej_100</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.get_sn_spectra" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.mag_interp">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">mag_interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mjd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec_epoch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visualize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.mag_interp" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.f19_unred">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">f19_unred</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">av</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.f19_unred" title="Link to this definition"></a></dt>
<dd><p>Unred spectra with Fitzenpatrick 2019
Only uses Milky Way E(B-V), ignoring host galaxy extinction
Assumes R_V = 3.1 per default</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.warp_spectrum">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">warp_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_effs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wav</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.warp_spectrum" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sccala.asynphot.aks_correction.aks_correction">
<span class="sig-prename descclassname"><span class="pre">sccala.asynphot.aks_correction.</span></span><span class="sig-name descname"><span class="pre">aks_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">photometry_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch_region</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lsb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_mean_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inspect_phot_interp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sccala.asynphot.aks_correction.aks_correction" title="Link to this definition"></a></dt>
<dd><p>Do a full AKS correction on input photometry. Corrects any number of
input filter bands to specified output filter bands. Only works if
the input photometry only consits of photometry taken by the same
instrument. Using multiple instruments might lead to unexpected results.</p>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>snname<span class="classifier">str</span></dt><dd><p>Name of the SN to be corrected. The model spectra used in the
correction need to be stored under the same name in the model
directory specified by the modelpath option.</p>
</dd>
<dt>photometry_file<span class="classifier">str</span></dt><dd><p>Path to the input file containing the photometry data. Data
should be formatted similar to the output files of the OSC.</p>
</dd>
<dt>filter_in<span class="classifier">str</span></dt><dd><p>Path to a text file containing the names of the intput filters
which are to be used for the correction.</p>
</dd>
<dt>filter_out<span class="classifier">str</span></dt><dd><p>Path to a text file containing the names of the output filters
which are to be used for the correction.</p>
</dd>
<dt>output<span class="classifier">str</span></dt><dd><p>Name of the output file where the corrected photometry is stored.
Default: None</p>
</dd>
<dt>modelpath<span class="classifier">str</span></dt><dd><p>Path of the direcotry where the model spectra used in the
correction. Should have a similar directory structure to
the Data directory. Default: ‘Models’</p>
</dd>
<dt>epoch_region<span class="classifier">list or Tuple</span></dt><dd><p>Epoch range from which input photometry is considered. Data
outside this range is discarded. Default: None</p>
</dd>
<dt>lsb<span class="classifier">list or Tuple</span></dt><dd><p>Extrapolation rules to consider spectra outside the specified
epoch_range. Default: ‘[0.0, 0.0]’</p>
</dd>
<dt>maxiter<span class="classifier">int</span></dt><dd><p>Maximum number of iteration to adjust flux density to match
observed photometry.</p>
</dd>
<dt>save_plots<span class="classifier">bool</span></dt><dd><p>If True, diagnostic plots showing interpolated AKS correction
values will be saved in the diagnostic directory. Default: True</p>
</dd>
<dt>save_results<span class="classifier">bool</span></dt><dd><p>If True, detailed AKS correction results will be stored in
the results directory. A separate file will be stored for
each filter band. Default: True</p>
</dd>
<dt>delimiter<span class="classifier">str</span></dt><dd><p>Delimiter used in the model spectra. Default: ‘,’</p>
</dd>
<dt>disable_mean_fit<span class="classifier">bool</span></dt><dd><p>If True, mean fit will be disabled in photometry interpolation.
Default: False</p>
</dd>
<dt>inspect_phot_interp<span class="classifier">bool</span></dt><dd><p>If True, interactive plots will be show to verify that
photometry was interpolated correctly. Default: False</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Link to this heading"></a></h3>
<p>aks_corr_phot, aks_corr_phot_err</p>
</section>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="sccala.asynphot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../calibration/index.html" class="btn btn-neutral float-right" title="sccala.asynphot.calibration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Alexander Holas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>